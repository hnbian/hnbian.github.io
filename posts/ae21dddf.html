<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Spark 常用配置参数, hnbian">
    <meta name="description" content="Spark 中大部分配置参数都有默认值，以下是常用配置：
1. Application Properties


属性
默认值
描述



spark.app.name
(none)
应用程序的名称，会在日志和webUI显示


spark">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-155985521-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-155985521-1');
</script>


    <title>Spark 常用配置参数 | hnbian</title>
    <link rel="icon" type="image/png" href="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="hnbian" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">hnbian</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://images.hnbian.cn/FvNSAGx7xljxALFh8Fa2DPNFP-JB" class="logo-img circle responsive-img">
        
        <div class="logo-name">hnbian</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/hnbian" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/hnbian" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://images.hnbian.cn/Fiahkys1NGBnSNjLlfi0tOwSWZLV')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Spark 常用配置参数</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/spark/">
                                <span class="chip bg-color">spark</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/spark/" class="post-category">
                                spark
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-02-07
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>Spark 中大部分配置参数都有默认值，以下是常用配置：</p>
<h2 id="1-Application-Properties"><a href="#1-Application-Properties" class="headerlink" title="1. Application Properties"></a>1. Application Properties</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.app.name</td>
<td>(none)</td>
<td>应用程序的名称，会在日志和webUI显示</td>
</tr>
<tr>
<td>spark.driver.cores</td>
<td>1</td>
<td>driver程序占用的CPU核数，只在cluster模式下有小。</td>
</tr>
<tr>
<td>spark.driver.maxResultSize</td>
<td>1g</td>
<td>对Spark每个action结果集大小的限制，最少是1M，若设为0则不限制大小。若Job结果超过限制则会异常退出，若结果集限制过大也可能造成OOM问题。</td>
</tr>
<tr>
<td>spark.driver.memory</td>
<td>1g</td>
<td>driver进程可用的内存。注意：不能在代码中配置，因为此时driver已经启动，可以通过–driver-memory命令行参数或者配置文件进行配置。</td>
</tr>
<tr>
<td>spark.executor.memory</td>
<td>1g</td>
<td>每个executor可用的内存数量 (e.g. 2g, 8g).</td>
</tr>
<tr>
<td>spark.extraListeners</td>
<td>(none)</td>
<td>一系列实现SparkListener的类，spark监听总线会创建这些类的实例。</td>
</tr>
<tr>
<td>spark.local.dir</td>
<td>/tmp</td>
<td>用于存储mpp输出文件和RDD缓存文件，常配置在SSD等存储设备上，可以通过逗号分隔指定多个目录。 注意: 在Spark  1.0 后续版本，会被SPARK_LOCAL_DIRS (Standalone, Mesos) or LOCAL_DIRS (YARN) 环境变量覆盖.</td>
</tr>
<tr>
<td>spark.logConf</td>
<td>false</td>
<td>将SparkConf 的有效配置作为INFO进行记录</td>
</tr>
<tr>
<td>spark.master</td>
<td>(none)</td>
<td>集群master节点</td>
</tr>
</tbody></table>
<h2 id="2-运行时环境"><a href="#2-运行时环境" class="headerlink" title="2. 运行时环境"></a>2. 运行时环境</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.driver.userClassPathFirst</td>
<td>false</td>
<td>用户指定的jars优先于Spark的库。用于解决用户与环境的版本冲突</td>
</tr>
<tr>
<td>spark.executor.logs.rolling.maxRetainedFiles</td>
<td>（none）</td>
<td>系统保留日志的最大数量，当超限时，旧的日志被删除，默认不启动</td>
</tr>
<tr>
<td>spark.executor.logs.rolling.time.interval</td>
<td>daily</td>
<td>设置日志rolling时间间隔，默认rolling不启动</td>
</tr>
<tr>
<td>spark.executor.userClassPathFirst</td>
<td>false</td>
<td>executor执行时，用户指定的jars优先于Spark的库。用于解决用户与环境的版本冲突</td>
</tr>
<tr>
<td>spark.python.worker.memory</td>
<td>512m</td>
<td>每个worker进程在聚集时的内存上限，若超限则输出到硬盘</td>
</tr>
</tbody></table>
<h2 id="3-Shuffle-行为"><a href="#3-Shuffle-行为" class="headerlink" title="3. Shuffle 行为"></a>3. Shuffle 行为</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.reducer.maxSizeInFlight</td>
<td>48m</td>
<td>多个reduce任务从map输出获取结果的最大尺寸。由于每个reducer需要创建缓存保留数据，除非内存很大，一般不要修改此参数</td>
</tr>
<tr>
<td>spark.shuffle.compress</td>
<td>true</td>
<td>是否对map的输出结果进行压缩，压缩器为spark.io.compression.codec</td>
</tr>
<tr>
<td>spark.shuffle.spill.compress</td>
<td>true</td>
<td>若为true，代表处理的中间结果在spill到本地硬盘时都会进行压缩，在将中间结果取回进行merge的时候，要进行解压。在Disk  IO成为瓶颈的场景下，这个被设置为true可能比较合适；如果本地硬盘是SSD，那么这个设置为false可能比较合适。</td>
</tr>
<tr>
<td>spark.shuffle.file.buffer</td>
<td>32k</td>
<td>每个shuffle文件输出流的内存缓存区大小。这些缓冲区减少了系统IO的调用次数</td>
</tr>
<tr>
<td>spark.shuffle.manager</td>
<td>sort</td>
<td>shuffle数据的实现方法，包括sort和hash两种。sort内存利用率更改，从1.2版本后sort作为默认实现方法</td>
</tr>
<tr>
<td>spark.shuffle.service.enabled</td>
<td>false</td>
<td>激活外部shuffle服务。服务维护executor写的文件，因而executor可以被安全移除。需要设置spark.dynamicAllocation.enabled  为true，同事指定外部shuffle服务。</td>
</tr>
<tr>
<td>spark.shuffle.service.port</td>
<td>7337</td>
<td>默认的外部shuffle服务端口</td>
</tr>
<tr>
<td>spark.shuffle.sort.bypassMergeThreshold</td>
<td>200</td>
<td>用于设置在Reducer的partition数目少于多少的时候，Sort Based Shuffle内部不使用Merge  Sort的方式处理数据，而是直接将每个partition写入单独的文件。这个方式和Hash  Based的方式是类似的，区别就是在最后这些文件还是会合并成一个单独的文件，并通过一个index索引文件来标记不同partition的位置信息。从Reducer看来，数据文件和索引文件的格式和内部是否做过Merge  Sort是完全相同的。这个可以看做SortBased Shuffle在Shuffle量比较小的时候对于Hash Based  Shuffle的一种折衷。当然了它和Hash Based  Shuffle一样，也存在同时打开文件过多导致内存占用增加的问题。因此如果GC比较严重或者内存比较紧张，可以适当的降低这个值。</td>
</tr>
</tbody></table>
<h2 id="4-Spark-UI"><a href="#4-Spark-UI" class="headerlink" title="4. Spark UI"></a>4. Spark UI</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.eventLog.compress</td>
<td>false</td>
<td>是否压缩事务日志，当spark.eventLog.enabled为true时有效</td>
</tr>
<tr>
<td>spark.eventLog.dir</td>
<td><a href="file:///tmp/spark-events">file:///tmp/spark-events</a></td>
<td>记录event日志的目录，也可以是hdfs目录</td>
</tr>
<tr>
<td>spark.eventLog.enabled</td>
<td>false</td>
<td>是否记录Spark events，用于在应用执行完后重建Web UI</td>
</tr>
<tr>
<td>spark.eventLog.enabled</td>
<td>true</td>
<td>是否允许通过web UI kill掉stages和相关的job</td>
</tr>
<tr>
<td>spark.ui.port</td>
<td>4040</td>
<td>应用统计信息的端口</td>
</tr>
<tr>
<td>spark.ui.retainedJobs</td>
<td>1000</td>
<td>spark UI和status APIs在垃圾回收之前记录的任务数</td>
</tr>
<tr>
<td>spark.ui.retainedStages</td>
<td>1000</td>
<td>spark UI和status APIs在垃圾回收之前记录的Stage数</td>
</tr>
<tr>
<td>spark.worker.ui.retainedExecutors</td>
<td>1000</td>
<td>spark UI和status APIs在垃圾回收之前记录的executor数目</td>
</tr>
<tr>
<td>spark.worker.ui.retainedDrivers</td>
<td>1000</td>
<td>同上</td>
</tr>
<tr>
<td>spark.worker.ui.retainedExecutions</td>
<td>1000</td>
<td>同上</td>
</tr>
<tr>
<td>spark.worker.ui.retainedBatches</td>
<td>1000</td>
<td>同上</td>
</tr>
</tbody></table>
<h2 id="5-压缩和序列化"><a href="#5-压缩和序列化" class="headerlink" title="5. 压缩和序列化"></a>5. 压缩和序列化</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>压 缩</td>
<td></td>
<td></td>
</tr>
<tr>
<td>spark.broadcast.compress</td>
<td>true</td>
<td>广播变量是否被压缩</td>
</tr>
<tr>
<td>spark.io.compression.codec</td>
<td>snappy</td>
<td>内部数据RDD的压缩编码器，用于RDD、广播变量和shuffle数据压缩。支持三种编码器：lz4、lzf和snappy。</td>
</tr>
<tr>
<td>spark.io.compression.lz4.blockSize</td>
<td>32k</td>
<td>压缩块大小</td>
</tr>
<tr>
<td>spark.io.compression.snappy.blockSize</td>
<td>32k</td>
<td>压缩块大小</td>
</tr>
<tr>
<td>序 列 化</td>
<td></td>
<td></td>
</tr>
<tr>
<td>spark.serializer</td>
<td>org.apache.spark.serializer.JavaSerializer</td>
<td>序列化对象的类，建议使用org.apache.spark.serializer.KryoSerializer</td>
</tr>
<tr>
<td>spark.kryo.classesToRegister</td>
<td>（none）</td>
<td>若使用kryo序列化，本参数指定需要注册的自定义类</td>
</tr>
<tr>
<td>spark.kryo.referenceTracking</td>
<td>true(false when using Spark SQL Thrift Server)</td>
<td>序列化时是否使用相同的对象，若对象图谱中包含同一对象的多个副本，会提高性能。若不存在该情况，关闭可以提高性能</td>
</tr>
<tr>
<td>spark.kryo.registrationRequired</td>
<td>false</td>
<td>是否需要kry注册，  若为true，在序列化未注册的类时kryo会抛出异常；  若为false，对于未注册的类，kryo会在每个对象写入类名，降低了性能。</td>
</tr>
<tr>
<td>spark.kryo.registrator</td>
<td>（none）</td>
<td>指定自定义的kryo注册类</td>
</tr>
<tr>
<td>spark.kryoserializer.buffer.max</td>
<td>64m</td>
<td>kryo序列化的缓冲区大小，需要比所有序列化对象大</td>
</tr>
<tr>
<td>spark.kryoserializer.buffer</td>
<td>64k</td>
<td>初始化的序列化缓冲区，可以根据需要增长到spark.kryoserializer.buffer.max</td>
</tr>
<tr>
<td>spark.rdd.compress</td>
<td>false</td>
<td>是否序列化RDD分区，能通过耗费大量CPU降低存储空间</td>
</tr>
<tr>
<td>spark.closure.serializer</td>
<td>org.apache.spark.serializer.JavaSerializer</td>
<td>闭包的序列化类，目前只支持java序列化</td>
</tr>
<tr>
<td>spark.serializer.objectStreamReset</td>
<td>100</td>
<td>当序列化对象时，为了减少IO会缓存大量数据，然而这会阻止垃圾回收，可以通过reset将刷新缓冲区。</td>
</tr>
</tbody></table>
<h2 id="6-内存管理"><a href="#6-内存管理" class="headerlink" title="6. 内存管理"></a>6. 内存管理</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.memory.fraction</td>
<td>0.75</td>
<td>用于执行和存储的内存比例。值越小，计算内存越小，缓冲区数据被排除的可能越大。这个比例剩余的部分用于存储spark元数据、用户数据结构，最好使用默认值。</td>
</tr>
<tr>
<td>spark.memory.storageFraction</td>
<td>0.5</td>
<td>在存储和计算内存中，缓存所占的内存比例，值越大，计算可用内存越少。</td>
</tr>
<tr>
<td>spark.memory.offHeap.enabled</td>
<td>false</td>
<td>若为true，则spark会尝试使用堆外内存，同时要求spark.memory.offHeap.size必须是正数</td>
</tr>
<tr>
<td>spark.memory.offHeap.size</td>
<td>0</td>
<td>堆外内存可用的字节数</td>
</tr>
<tr>
<td>spark.memory.useLegacyMode</td>
<td>false</td>
<td>是否可以使用传统内存管理。本参数为true时，以下参数（已废弃）才有效：spark.shuffle.memoryFraction  spark.storage.memoryFraction spark.storage.unrollFraction</td>
</tr>
</tbody></table>
<h2 id="7-执行操作"><a href="#7-执行操作" class="headerlink" title="7. 执行操作"></a>7. 执行操作</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.broadcast.blockSize</td>
<td>4m</td>
<td>TorrentBroadcastFactory中每个block的大小。若值太大会降低广播的并行度，若值太小则可能出现BlockManager瓶颈</td>
</tr>
<tr>
<td>spark.broadcast.factory</td>
<td>org.apache.spark.broadcast.TorrentBroadcastFactory</td>
<td>广播的实现</td>
</tr>
<tr>
<td>spark.cleaner.ttl</td>
<td>（infinite）</td>
<td>spark记忆元数据的时间。若超时则清理，用于长时间运行例如spark  stream应用，需要注意被缓存的RDD超时也会被清理。</td>
</tr>
<tr>
<td>spark.executor.cores</td>
<td>在Yarn是1；standalone中是所有可用的core</td>
<td>每个executor可用的CPU核心数目，standalone模式下，每个worker会每个executor使用一个CPU核心</td>
</tr>
<tr>
<td>spark.default.parallelism</td>
<td>对于reduceByKey和join操作，是RDD中最大分区数；  对于parallelize操作，分区数与集群管理相关：  本地模式（CPU核心数作为分区数）、Mesos（8）、其他（所有执行器的核心数与2求最大值）</td>
<td>默认的并行数</td>
</tr>
<tr>
<td>spark.executor.heartbeatInterval</td>
<td>10s</td>
<td>executor与driver的心跳间隔</td>
</tr>
<tr>
<td>spark.files.fetchTimeout</td>
<td>60s</td>
<td>SparkContext.addFile的超时值</td>
</tr>
<tr>
<td>spark.files.useFetchCache</td>
<td>true</td>
<td>若为true，同一应用的执行器间通过局部缓存优化；若为false则各个executor获取各自文件</td>
</tr>
<tr>
<td>spark.files.overwrite</td>
<td>false</td>
<td>当目标文件存在时是否重写</td>
</tr>
<tr>
<td>spark.hadoop.cloneConf</td>
<td>false</td>
<td>若为true，则为每个task拷贝hadoop的配置对象；</td>
</tr>
<tr>
<td>spark.hadoop.validateOutputSpecs</td>
<td>true</td>
<td>若设置为true，saveAsHadoopFile会验证输出目录是否存在。虽然设为false可以忽略文件存在的异常，但建议使用Hadoop文件系统的API手动删除输出目录。当通过Spark  Streaming的StreamingContext时本参数会被忽略，因为当进行checkpoint恢复时会重写已经存在的文件。</td>
</tr>
<tr>
<td>spark.storage.memoryMapThreshold</td>
<td>2m</td>
<td>读取文件块时Spark内存map最小的大小。当map所占内存接近或小于操作系统page大小时，内存映射负载很大</td>
</tr>
<tr>
<td>spark.externalBlockStore.blockManager</td>
<td>org.apache.spark.storage.TachyonBlockManager</td>
<td>存储RDDs的外部文件块管理器。文件系统的URL被设置为spark.externalBlockStore.url</td>
</tr>
<tr>
<td>spark.externalBlockStore.baseDir</td>
<td>System.getProperty(“java.io.tmpdir”)</td>
<td>外部块存储RDD的目录。文件系统URL被设置为spark.externalBlockStore.url</td>
</tr>
<tr>
<td>spark.externalBlockStore.url</td>
<td>tachyon://localhost:19998 for Tachyon</td>
<td>代表外部块文件系统的URL</td>
</tr>
</tbody></table>
<h2 id="8-网络"><a href="#8-网络" class="headerlink" title="8. 网络"></a>8. 网络</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.akka.frameSize</td>
<td>128</td>
<td>最大消息大小（MB）。一般用于限制executor与driver之间的信息大小，若运行几千个map和reduce任务，可以适当调大参数</td>
</tr>
<tr>
<td>spark.akka.heartbeat.interval</td>
<td>1000s</td>
<td>可以调成很大，用于禁止Akka内部的传输失败检测。越大的时间间隔减少网络负载，越小的间隔容易进行Akka错误检测。</td>
</tr>
<tr>
<td>spark.akka.heartbeat.pauses</td>
<td>6000s</td>
<td>与spark.akka.heartbeat.interval类似</td>
</tr>
<tr>
<td>spark.akka.threads</td>
<td>4</td>
<td>actor用于传输的线程个数。当driver有较多CPU是可以调大该值</td>
</tr>
<tr>
<td>spark.akka.timeout</td>
<td>100s</td>
<td>spark节点间沟通的超时时间</td>
</tr>
<tr>
<td>spark.blockManager.port</td>
<td>random</td>
<td>block 管理器的监听端口</td>
</tr>
<tr>
<td>spark.broadcast.port</td>
<td>random</td>
<td>driver的http广播监听端口</td>
</tr>
<tr>
<td>spark.driver.host</td>
<td>（local hostname)</td>
<td>driver监听的主机名或者IP地址。用于master和executor的信息传输</td>
</tr>
<tr>
<td>spark.driver.port</td>
<td>random</td>
<td>driver监听的接口</td>
</tr>
<tr>
<td>spark.executor.port</td>
<td>random</td>
<td>executor监听的端口</td>
</tr>
<tr>
<td>spark.fileserver.port</td>
<td>random</td>
<td>driver 文件服务监听的接口</td>
</tr>
<tr>
<td>spark.network.timeout</td>
<td>120s</td>
<td>默认所有网络交互的超时时间</td>
</tr>
<tr>
<td>spark.port.maxRetries</td>
<td>16</td>
<td>端口重试连接最大次数</td>
</tr>
<tr>
<td>spark.replClassServer.port</td>
<td>random</td>
<td>driver类服务监听的接口</td>
</tr>
<tr>
<td>spark.rpc.numRetries</td>
<td>3</td>
<td>RPC任务重试的次数</td>
</tr>
<tr>
<td>spark.rpc.retry.wait</td>
<td>3s</td>
<td>RPC任务ask操作的延时</td>
</tr>
<tr>
<td>spark.rpc.askTimeout</td>
<td>120s</td>
<td>RPC任务等待超时</td>
</tr>
<tr>
<td>spark.rpc.lookupTimeout</td>
<td>120s</td>
<td>RPC远程lookup操作超时时间</td>
</tr>
</tbody></table>
<h2 id="9-作业调度Scheduling"><a href="#9-作业调度Scheduling" class="headerlink" title="9. 作业调度Scheduling"></a>9. 作业调度Scheduling</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.cores.max</td>
<td>（not set)</td>
<td>spark应用可用最大CPU内核数，若未设置，stanalone集群使用  spark.deploy.defaultCores作为参数，Mesos可以使用所有CPU。</td>
</tr>
<tr>
<td>spark.locality.wait</td>
<td>3s</td>
<td>data-local或less-local任务启动任务超时时间。若任务时间长且数据不再本地，则最后调大</td>
</tr>
<tr>
<td>spark.locality.wait.node</td>
<td>spark.locality.wait</td>
<td>Customize the locality wait for node locality. For example,  you can set this to 0 to skip node locality and search immediately for rack  locality (if your cluster has rack information).</td>
</tr>
<tr>
<td>spark.locality.wait.process</td>
<td>spark.locality.wait</td>
<td>Customize the locality wait for process locality. This affects  tasks that attempt to access cached data in a particular executor process.</td>
</tr>
<tr>
<td>spark.locality.wait.rack</td>
<td>spark.locality.wait</td>
<td>Customize the locality wait for rack locality.</td>
</tr>
<tr>
<td>spark.scheduler.maxRegisteredResourcesWaitingTime</td>
<td>30s</td>
<td>Maximum amount of time to wait for resources to register  before scheduling begins.</td>
</tr>
<tr>
<td>spark.scheduler.mode</td>
<td>FIFO</td>
<td>作业调度模式。可以设置为FAIR公平调度或者FIFO先进先出</td>
</tr>
<tr>
<td>spark.scheduler.revive.interval</td>
<td>1s</td>
<td>The interval length for the scheduler to revive the worker  resource offers to run tasks.</td>
</tr>
<tr>
<td>spark.speculation</td>
<td>false</td>
<td>若设置为true，则会根据执行慢的stage多次启动，以最先完成为准。</td>
</tr>
<tr>
<td>spark.speculation.interval</td>
<td>100ms</td>
<td>speculate 的频率</td>
</tr>
<tr>
<td>spark.speculation.multiplier</td>
<td>1.5</td>
<td>当task比所有任务执行时间的中值长多少倍时启动speculate</td>
</tr>
<tr>
<td>spark.speculation.quantile</td>
<td>0.75</td>
<td>启动speculate前任务完成数据量所占比例值</td>
</tr>
<tr>
<td>spark.task.cpus</td>
<td>1</td>
<td>每个task分配的cpu数量</td>
</tr>
<tr>
<td>spark.task.maxFailures</td>
<td>4</td>
<td>task失败的最多次数，比重试次数多1</td>
</tr>
</tbody></table>
<h2 id="10-动态分配内存"><a href="#10-动态分配内存" class="headerlink" title="10. 动态分配内存"></a>10. 动态分配内存</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.dynamicAllocation.enabled</td>
<td>false</td>
<td>是否启动动态资源分配</td>
</tr>
<tr>
<td>spark.dynamicAllocation.executorIdleTimeout</td>
<td>60s</td>
<td>若动态分配设为true且executor处于idle状态的时间已超时，则移除executor</td>
</tr>
<tr>
<td>spark.dynamicAllocation.cachedExecutorIdleTimeout</td>
<td>infinity</td>
<td>若executor缓存数据超时，且动态内存分配为true，则移除缓存</td>
</tr>
<tr>
<td>spark.dynamicAllocation.initialExecutors</td>
<td>spark.dynamicAllocation.minExecutors</td>
<td>若动态分配为true，执行器的初始数量</td>
</tr>
<tr>
<td>spark.dynamicAllocation.maxExecutor</td>
<td>infinity</td>
<td>执行器最大数量</td>
</tr>
<tr>
<td>spark.dynamicAllocation.minExecutor</td>
<td>0</td>
<td>执行器最少数量</td>
</tr>
<tr>
<td>spark.dynamicAllocation.schedulerBacklogTimeout</td>
<td>1s</td>
<td>If dynamic allocation is enabled and there have been pending  tasks backlogged for more than this duration, new executors will be  requested.</td>
</tr>
<tr>
<td>spark.dynamicAllocation.sustainedSchedulerBacklogTimeout</td>
<td>schedulerBacklogTimeout</td>
<td>Same as spark.dynamicAllocation.schedulerBacklogTimeout, but  used only for subsequent executor requests.</td>
</tr>
</tbody></table>
<h2 id="11-安全"><a href="#11-安全" class="headerlink" title="11. 安全"></a>11. 安全</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.acls.enable</td>
<td>false</td>
<td>Whether Spark acls should are enabled. If enabled, this checks  to see if the user has access permissions to view or modify the job. Note  this requires the user to be known, so if the user comes across as null no  checks are done. Filters can be used with the UI to authenticate and set the  user.</td>
</tr>
<tr>
<td>spark.admin.acls</td>
<td>Empty</td>
<td>Comma separated list of users/administrators that have view  and modify access to all Spark jobs. This can be used if you run on a shared  cluster and have a set of administrators or devs who help debug when things  work. Putting a “*” in the list means any user can have the priviledge of  admin.</td>
</tr>
<tr>
<td>spark.authenticate</td>
<td>false</td>
<td>Whether Spark authenticates its internal connections. See  spark.authenticate.secret if not running on YARN.</td>
</tr>
<tr>
<td>spark.authenticate.secret</td>
<td>None</td>
<td>Set the secret key used for Spark to authenticate between  components. This needs to be set if not running on YARN and authentication is  enabled.</td>
</tr>
<tr>
<td>spark.authenticate.enableSaslEncryption</td>
<td>false</td>
<td>Enable encrypted communication when authentication is enabled.  This option is currently only supported by the block transfer service.</td>
</tr>
<tr>
<td>spark.network.sasl.serverAlwaysEncrypt</td>
<td>false</td>
<td>Disable unencrypted connections for services that support SASL  authentication. This is currently supported by the external shuffle service.</td>
</tr>
<tr>
<td>spark.core.connection.ack.wait.timeout</td>
<td>60s</td>
<td>How long for the connection to wait for ack to occur before  timing out and giving up. To avoid unwilling timeout caused by long pause  like GC, you can set larger value.</td>
</tr>
<tr>
<td>spark.core.connection.auth.wait.timeout</td>
<td>30s</td>
<td>How long for the connection to wait for authentication to  occur before timing out and giving up.</td>
</tr>
<tr>
<td>spark.modify.acls</td>
<td>Empty</td>
<td>Comma separated list of users that have modify access to the  Spark job. By default only the user that started the Spark job has access to  modify it (kill it for example). Putting a “*” in the list means any user can  have access to modify it.</td>
</tr>
<tr>
<td>spark.ui.filters</td>
<td>None</td>
<td>Comma separated list of filter class names to apply to the  Spark web UI. The filter should be a standard javax servlet Filter.  Parameters to each filter can also be specified by setting a java system  property of:spark..params=’param1=value1,param2=value2’For  example:-Dspark.ui.filters=com.test.filter1  -Dspark.com.test.filter1.params=’param1=foo,param2=testing’</td>
</tr>
<tr>
<td>spark.ui.view.acls</td>
<td>Empty</td>
<td>Comma separated list of users that have view access to the  Spark web ui. By default only the user that started the Spark job has view  access. Putting a “*” in the list means any user can have view access to this  Spark job.</td>
</tr>
</tbody></table>
<h2 id="12-加密Encryption"><a href="#12-加密Encryption" class="headerlink" title="12. 加密Encryption"></a>12. 加密Encryption</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.ssl.enabled</td>
<td>false</td>
<td>是否在所有协议中支持SSL连接</td>
</tr>
<tr>
<td>spark.ssl.enabledAlgorithms</td>
<td>Empty</td>
<td>一些列的密码运算，指定的cipher需要被JVM支持</td>
</tr>
<tr>
<td>spark.ssl.keyPassword</td>
<td>None</td>
<td>私钥密码</td>
</tr>
<tr>
<td>spark.ssl.keyStore</td>
<td>None</td>
<td>key存储文件，可以是组件启动的相对路径也可以是绝对路径</td>
</tr>
<tr>
<td>spark.ssl.keyStorePassword</td>
<td>None</td>
<td>A password to the key-store</td>
</tr>
<tr>
<td>spark.ssl.protocol</td>
<td>None</td>
<td>A protocol name. The protocol must be supported by JVM. The  reference list of protocols one can find on this page.</td>
</tr>
<tr>
<td>spark.ssl.trustStore</td>
<td>None</td>
<td>A path to a trust-store file. The path can be absolute or  relative to the directory where the component is started in.</td>
</tr>
<tr>
<td>spark.ssl.trustStorePassword</td>
<td>None</td>
<td>A password to the trust-store.</td>
</tr>
</tbody></table>
<h2 id="13-Spark-Streaming"><a href="#13-Spark-Streaming" class="headerlink" title="13. Spark Streaming"></a>13. Spark Streaming</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.streaming.backpressure.enabled</td>
<td>false</td>
<td>Enables or disables Spark Streaming’s internal backpressure  mechanism (since 1.5). This enables the Spark Streaming to control the  receiving rate based on the current batch scheduling delays and processing  times so that the system receives only as fast as the system can process.  Internally, this dynamically sets the maximum receiving rate of receivers.  This rate is upper bounded by the values spark.streaming.receiver.maxRate and  spark.streaming.kafka.maxRatePerPartition if they are set (see below).</td>
</tr>
<tr>
<td>spark.streaming.blockInterval</td>
<td>200ms</td>
<td>Interval at which data received by Spark Streaming receivers  is chunked into blocks of data before storing them in Spark. Minimum  recommended - 50 ms. See the performance tuning section in the Spark  Streaming programing guide for more details.</td>
</tr>
<tr>
<td>spark.streaming.receiver.maxRate</td>
<td>not set</td>
<td>Maximum rate (number of records per second) at which each  receiver will receive data. Effectively, each stream will consume at most  this number of records per second. Setting this configuration to 0 or a  negative number will put no limit on the rate. See the deployment guide in  the Spark Streaming programing guide for mode details.</td>
</tr>
<tr>
<td>spark.streaming.receiver.writeAheadLog.enable</td>
<td>false</td>
<td>Enable write ahead logs for receivers. All the input data  received through receivers will be saved to write ahead logs that will allow  it to be recovered after driver failures. See the deployment guide in the  Spark Streaming programing guide for more details.</td>
</tr>
<tr>
<td>spark.streaming.unpersist</td>
<td>true</td>
<td>Force RDDs generated and persisted by Spark Streaming to be  automatically unpersisted from Spark’s memory. The raw input data received by  Spark Streaming is also automatically cleared. Setting this to false will  allow the raw data and persisted RDDs to be accessible outside the streaming  application as they will not be cleared automatically. But it comes at the  cost of higher memory usage in Spark.</td>
</tr>
<tr>
<td>spark.streaming.stopGracefullyOnShutdown</td>
<td>false</td>
<td>If true, Spark shuts down the StreamingContext gracefully on  JVM shutdown rather than immediately.</td>
</tr>
<tr>
<td>spark.streaming.kafka.maxRatePerPartition</td>
<td>not set</td>
<td>Maximum rate (number of records per second) at which data will  be read from each Kafka partition when using the new Kafka direct stream API.  See the Kafka Integration guide for more details.</td>
</tr>
<tr>
<td>spark.streaming.kafka.maxRetries</td>
<td>1</td>
<td>Maximum number of consecutive retries the driver will make in  order to find the latest offsets on the leader of each partition (a default  value of 1 means that the driver will make a maximum of 2 attempts). Only  applies to the new Kafka direct stream API.</td>
</tr>
<tr>
<td>spark.streaming.ui.retainedBatches</td>
<td>1000</td>
<td>How many batches the Spark Streaming UI and status APIs  remember before garbage collecting.</td>
</tr>
<tr>
<td>spark.streaming.driver.writeAheadLog.closeFileAfterWrite</td>
<td>false</td>
<td>Whether to close the file after writing a write ahead log  record on the driver. Set this to ‘true’ when you want to use S3 (or any file  system that does not support flushing) for the metadata WAL on the driver.</td>
</tr>
<tr>
<td>spark.streaming.receiver.writeAheadLog.closeFileAfterWrite</td>
<td>false</td>
<td>Whether to close the file after writing a write ahead log  record on the receivers. Set this to ‘true’ when you want to use S3 (or any  file system that does not support flushing) for the data WAL on the  receivers.</td>
</tr>
</tbody></table>
<h2 id="14-SparkR"><a href="#14-SparkR" class="headerlink" title="14. SparkR"></a>14. SparkR</h2><table>
<thead>
<tr>
<th>属性</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spark.r.numRBackendThreads</td>
<td>2</td>
<td>RBackend维护的RPC句柄个数</td>
</tr>
<tr>
<td>spark.r.command</td>
<td>Rscript</td>
<td>Executable for executing R scripts in cluster modes for both  driver and workers.</td>
</tr>
<tr>
<td>spark.r.driver.command</td>
<td>spark.r.command</td>
<td>Executable for executing R scripts in client modes for driver.  Ignored in cluster modes</td>
</tr>
</tbody></table>
<p>其他参数具体参见<a target="_blank" rel="noopener" href="http://itfish.net/article/64419.html#">https://spark.apache.org/docs/latest/configuration.html</a></p>
<h2 id="15-环境变量"><a href="#15-环境变量" class="headerlink" title="15. 环境变量"></a>15. 环境变量</h2><p>部分Spark设置可以通过配置环境变量（在conf/spark-env.sh中设置）实现。在standalone和Mesos模式中，这个文件可以设定机器特定的信息，例如主机名。由于spark-env.sh安装后并不存在，可以拷贝spark-env.sh.template，并确保它有执行权限。 </p>
<p>以下是spark-env.sh的常用参数：</p>
<table>
<thead>
<tr>
<th>环境变量</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>JAVA_HOME</td>
<td>java安装目录</td>
</tr>
<tr>
<td>PYSPARK_PYTHON</td>
<td>运行pyspark的python可执行文件，默认是python2.7</td>
</tr>
<tr>
<td>SPARK_DRIVER_R</td>
<td>SparkR shell的R可执行文件，默认是R</td>
</tr>
<tr>
<td>SPARK_LOCAL_IP</td>
<td>机器绑定的IP地址</td>
</tr>
<tr>
<td>SPARK_PUBLIC_DNS</td>
<td>Spark程序向外广播的主机名</td>
</tr>
</tbody></table>
<p>除此之外还有一些spark standalone集群设置的参数，例如每个机器运行的最大内存、CPU核数等。</p>
<h2 id="16-其他配置"><a href="#16-其他配置" class="headerlink" title="16. 其他配置"></a>16. 其他配置</h2><h3 id="16-1-配置日志"><a href="#16-1-配置日志" class="headerlink" title="16.1 配置日志"></a>16.1 配置日志</h3><p>Spark使用log4j记录日志。可以通过配置conf/log4j.properties文件配置日志。</p>
<h3 id="16-2-覆盖配置目录"><a href="#16-2-覆盖配置目录" class="headerlink" title="16.2 覆盖配置目录"></a>16.2 覆盖配置目录</h3><p>通过指定SPARK_CONF_DIR变量，可以覆盖默认的SAPRK_HOME/conf下面的配置，例如spark-defaults.conf, spark-env.sh, log4j.properties等待。</p>
<h3 id="16-3-集成Hadoop集群配置"><a href="#16-3-集成Hadoop集群配置" class="headerlink" title="16.3 集成Hadoop集群配置"></a>16.3 集成Hadoop集群配置</h3><p>若想通过spark读写HDFS，需要将以下两个配置文件拷贝到spark classpath目录下 </p>
<p>+ hdfs-size.xml ：提供HDFS客户端默认的操作 </p>
<p>+ core-site.xml ：设置默认的文件系统名称</p>
<p>虽然不同发行版本配置文件不同，但一般都在/etc/hadoop/conf目录下。为了使得spark可以找到这些配置文件，在spark-env.sh文件中配置HADOOP_CONF_DIR变量。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">hnbian</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://www.hnbian.cn/posts/ae21dddf.html">https://www.hnbian.cn/posts/ae21dddf.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">hnbian</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/spark/">
                                    <span class="chip bg-color">spark</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'h1rND3bHC0OqFwzm1UfPQpaY-gzGzoHsz',
        appKey: 'd7uboDt2WLV2HJCEMHkkLuU4',
        serverURLs: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'identicon',
        pageSize: '12',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/3fbd5f27.html">
                    <div class="card-image">
                        
                        <img src="https://images.hnbian.cn/FqGnY6V5WhSDsU4DBWCHLwRvfbQu" class="responsive-img" alt="Spark 常用参数解析">
                        
                        <span class="card-title">Spark 常用参数解析</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2018-02-15
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/spark/" class="post-category">
                                    spark
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/spark/">
                        <span class="chip bg-color">spark</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/14696fcc.html">
                    <div class="card-image">
                        
                        <img src="https://images.hnbian.cn/FnzXTK6wEOCd_hvAcHZvi2Yx_-kU" class="responsive-img" alt="Spark RDD 的介绍">
                        
                        <span class="card-title">Spark RDD 的介绍</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2018-02-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/spark/" class="post-category">
                                    spark
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/spark/">
                        <span class="chip bg-color">spark</span>
                    </a>
                    
                    <a href="/tags/sparkCore/">
                        <span class="chip bg-color">sparkCore</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: hnbian<br />'
            + '文章作者: hnbian<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2025</span>
            
            <a href="/about" target="_blank">hnbian</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
                <span id="translate">|&nbsp;繁/简：</span><a id="translateLink" href="javascript:translatePage();">繁</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2018";
                        var startMonth = "2";
                        var startDate = "8";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
                <span id="icp"><img src="/medias/icp.png"
                                    style="vertical-align: text-bottom;"/>
                <a href="https://beian.miit.gov.cn" target="_blank">粤ICP备18156920号-2</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/hnbian" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:hnbian@126.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
        <script type="text/javascript" src="/js/tw_cn.js"></script>
        <script type="text/javascript">
          var defaultEncoding = 2; //网站编写字体是否繁体，1-繁体，2-简体
          var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
          var cookieDomain = "https://www.hnbian.cn"; //Cookie地址, 一定要设定, 通常为你的网址
          var msgToTraditionalChinese = "繁"; //此处可以更改为你想要显示的文字
          var msgToSimplifiedChinese = "简"; //同上，但两处均不建议更改
          var translateButtonId = "translateLink"; //默认互换id
          translateInitilization();
        </script>
    
    
    

    <!-- 雪花特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
